---
title: Search
permalink: /search/

layout: default

styles: "https://www.ncbi.nlm.nih.gov/labs/pubmed/static/CACHE/css/b9368b918d17.css"
---

<div class="usa-grid top-query-builder">
  {% include components/advanced-query-builder.html %}
</div>

{% include components/inner-search-form.html %}

{% include components/search-history.html %}


<div id="maincontent" class="usa-grid-full ncbi-base-page-container">
      
    <main class="search-page" id="search-page">
  
      <div class="inner-wrap">
        <div class="static-filters" id="static-filters">
  
    <form id="static-filters-form" action=".">  
  <div class="form-field 
     filters-field
  ">
    
  
    
  
    <div role="group" aria-label="Filters">
      
        <div class="choice-group">
  
          <strong class="title">
            Text availability
          </strong>
  
          <ul class="items">
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_simsearch.fha" value="simsearch.fha" autocomplete="off">
                    <label for="id_filter_simsearch.fha">
                      Abstract
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_simsearch.ffrft" value="simsearch.ffrft" autocomplete="off">
                    <label for="id_filter_simsearch.ffrft">
                      Free full text
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_simsearch.fft" value="simsearch.fft" autocomplete="off">
                    <label for="id_filter_simsearch.fft">
                      Full text
                    </label>
                  </li>
                
              
            
          </ul>
  
        </div>
      
        <div class="choice-group">
  
          <strong class="title">
            Article type
          </strong>
  
          <ul class="items">
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_pubt.review" value="pubt.review" autocomplete="off">
                    <label for="id_filter_pubt.review">
                      Review
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_pubt.clinicaltrial" value="pubt.clinicaltrial" autocomplete="off">
                    <label for="id_filter_pubt.clinicaltrial">
                      Clinical trial
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_pubt.systematicreviews" value="pubt.systematicreviews" autocomplete="off">
                    <label for="id_filter_pubt.systematicreviews">
                      Systematic review
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_pubt.randomizedcontrolledtrial" value="pubt.randomizedcontrolledtrial" autocomplete="off">
                    <label for="id_filter_pubt.randomizedcontrolledtrial">
                      Randomized controlled trial
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_pubt.booksdocs" value="pubt.booksdocs" autocomplete="off">
                    <label for="id_filter_pubt.booksdocs">
                      Book or document
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="checkbox" name="filter" id="id_filter_pubt.metaanalysis" value="pubt.metaanalysis" autocomplete="off">
                    <label for="id_filter_pubt.metaanalysis">
                      Meta-analysis
                    </label>
                  </li>
                
              
            
          </ul>
  
        </div>
      
        <div class="choice-group">
  
          <strong class="title">
            Publication date
          </strong>
  
          <ul class="items">
            
              
                
                  <li>
                    <input type="radio" name="filter" id="id_filter_ds1.y_1" value="ds1.y_1" autocomplete="off">
                    <label for="id_filter_ds1.y_1">
                      1 year
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="radio" name="filter" id="id_filter_ds1.y_5" value="ds1.y_5" autocomplete="off">
                    <label for="id_filter_ds1.y_5">
                      5 years
                    </label>
                  </li>
                
              
            
              
                
                  <li>
                    <input type="radio" name="filter" id="id_filter_ds1.y_10" value="ds1.y_10" autocomplete="off">
                    <label for="id_filter_ds1.y_10">
                      10 years
                    </label>
                  </li>
                
              
            
          </ul>
  
        </div>
      
    </div>
  
    <div class="actions-bar">
      <button class="reset-btn usa-button-outline" ref="linksrc=reset_filters_btn">Reset all filters</button>
    </div>
  
  
    
      
    
  </div>
  
    </form>
  </div>
  
      </div>
      </div>
    </main>
      </div>


<script>
    var searchInput = document.querySelector('input.term-input.tt-input');

    function buildQuery() {
      console.log('building query');
      var output = '';
      var qbSelectGroups = document.querySelectorAll('.selector-group');
      // Go through selector groups
      for (i = 0; i < qbSelectGroups.length; ++i) {
        if (i > 0) {
          output += " AND "
        }
        // now find all the selectors within this selector groups
        var selectors = qbSelectGroups[i].querySelectorAll('.selector');
        for (j = 0; j < selectors.length; ++j) {
          // first get the term value
          var termInput = selectors[j].querySelector('input')
          if (termInput.value.length > 0) {
            if (j > 0) {
              output += " OR "
            }
            output += '"' +  termInput.value + '"';
            output += '[' + selectors[j].querySelector('select').value + ']';
          }
        }
        // if there are multiple selectors in the selector group,
        // then we have to wrap in parens
        if (selectors.length > 1) {
          output = "(" + output + ")";
        }
      }
      searchInput.value = output;
    }

    var newField = `
      <span class="boolean-label">or</span><fieldset class="selector">
          {% include components/search-opts-snippet.html num="2" %}
        </fieldset>
      `;

    document.addEventListener("DOMContentLoaded", function() {
      // Make history items pop into query box.
      var historyItems = document.querySelectorAll('.use-q');
      var historyAddItems = document.querySelectorAll('.add-q');
      // .use-q: replace current query
      for (i = 0; i < historyItems.length; ++i) {
        historyItems[i].addEventListener("click", function(e){
          searchInput.value = this.parentElement.nextElementSibling.innerHTML;
        });
      }
      for (i = 0; i < historyAddItems.length; ++i) {
        historyAddItems[i].addEventListener("click", function(e){
          searchInput.value += ' AND ' + this.parentNode.nextElementSibling.innerHTML;
        });
      }
      // make history download "work"
      document.getElementById('history-download').addEventListener("click", function(e){
        alert("Your download would be happening now if this weren't a prototype.");
      });
      // Make history clear "work"
      document.getElementById('history-clear').addEventListener("click", function(e){
        document.getElementById('history-body').innerHTML =
          '<tr><td>1</td><td class="q"></td><td></td><td></td></tr>'
      });
      // Make query builder "work"
      var qbSelects = document.querySelectorAll('.selector select');
      var qbInputs = document.querySelectorAll('.selector input');
      var fieldAdder = document.querySelectorAll('button.add-field');
      
      document.querySelector('.build-query').addEventListener("click", function(e) {
        e.preventDefault();
        buildQuery();
      });
      for (i = 0; i < qbSelects.length; ++i) {
        qbSelects[i].addEventListener("change", function() {
          buildQuery();
        });
      }
      for (i = 0; i < qbInputs.length; ++i) {
        qbInputs[i].addEventListener("blur", function() {
          buildQuery();
        });
      }
      for (i = 0; i < fieldAdder.length; ++i) {
        fieldAdder[i].addEventListener("click", function(e) {
          e.preventDefault();
          this.insertAdjacentHTML('beforebegin', newField);
          buildQuery();
        });
      }
    });
</script>